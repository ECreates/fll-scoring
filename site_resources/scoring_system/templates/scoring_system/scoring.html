{% extends 'scoring_system/base.html' %}
{% load static %}

{% block head %}
    <title>Scoring System</title>
    <link rel="stylesheet" href="{% static 'scoring_system/css/scoring.css' %}">
    <script type="text/javascript" src="{% static 'scoring_system/js/scoring.js' %}"></script>
    <script type="text/javascript" src="{% static 'scoring_system/js/jquery-3.4.1.min.js' %}"></script>
{% endblock %}

{% block content %}
    <h1>Scoring system (event user only)</h1>
    <select id="team-selector">
        <option value="red">Red</option>
        <option value="blue">Blue</option>
    </select>
    {% for category in scoring_categories %}
        <div class="scoring-parent">
        <div class="scoring-category">
            <table>
                <tr class="category-header">
                    {{ category.category_name }}
                </tr>
                <th class="image-cell" rowspan="0">
                    <img class="category-image" src="{{ category.category_image.url }}">
                </th>
                {% for criteria in category.category_criteria.all %}
                    <tr>
                        <th class="criteria-header">{{ criteria.task_description }}</th>
                    </tr>
                    <tr>
                        {% if criteria.score_type == "b" %}
                            <td>
                                <label class="container">Yes
                                    <input type="checkbox" name="checkYes" sub-category="{{ criteria.sub_category }}" criteria-id="{{ forloop.counter }}" point-value="{{ criteria.score_multiplier }}" onclick="switchCheckBoxes(this)">
                                    <span class="checkmark"></span>
                                </label>
                            </td>
                            <td>
                                <label class="container">No
                                    <input type="checkbox" name="checkNo" sub-category="{{ criteria.sub_category }}" criteria-id="{{ forloop.counter }}" point-value="{{ criteria.score_multiplier }}" onclick="switchCheckBoxes(this)">
                                    <span class="checkmark"></span>
                                </label>
                            </td>
                        {% elif criteria.score_type == "i" %}
                            <td>
                                <input type="number" class="int-input" name="intInput" style="width: 100px;height: 30px" min="0" >
                            </td>
                        {% elif criteria.score_type == "t" %}
                            <td>
                                <label class="container">{{ criteria.t_option1 }}
                                    <input type="checkbox">
                                    <span class="checkmark"></span>
                                </label>
                            </td>
                            <td>
                                <label class="container">{{ criteria.t_option2 }}
                                    <input type="checkbox">
                                    <span class="checkmark"></span>
                                </label>
                            </td>
                            <td>
                                <label class="container">{{ criteria.t_option3 }}
                                    <input type="checkbox">
                                    <span class="checkmark"></span>
                                </label>
                            </td>
                        {% else %}
                            <p>Something went wrong</p>
                            <p>{{ criteria.score_type }}</p>
                            <p>Heyo</p>
                        {% endif %}
                    </tr>
                {% endfor %}
            </table>
        </div>
        </div>
    {% endfor %}
    <div class="sticky">
        <table class="sticky-table">
            <tr>
                <th>Score:</th>
                <th id="score-value">0</th>
                <th>Timer Here</th>
            </tr>
        </table>
    </div>
    <script>
        defaultCheckBoxes();
        startSocket();
    </script>
{% endblock %}