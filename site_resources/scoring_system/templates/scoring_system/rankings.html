{% extends 'scoring_system/base.html' %}
{% load static %}

{% block head %}
    <title>Event Rankings</title>
    <link rel="stylesheet" href="{% static 'scoring_system/css/rankings.css' %}">
    <!-- <script type="text/javascript" src="{% static 'scoring_system/js/ranking.js' %}"></script> -->
{% endblock %}

{% block content %}
    <div class="padding"></div>
    <div id="standings-div">
        <h1 id="standings-header">Arkansas Championship 2020</h1>
    </div>
    <table class="rankings">
            <tr>
                <th>Rank</th>
                <th class="no-header">Pit</th>
                <th class="name-header">Team Name</th>
                <th class="match-header">Max</th>
                <th class="match-header">Match 1</th>
                <th class="match-header">Match 2</th>
                <th class="match-header">Match 3</th>
            </tr>
        {% for team in teams %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ team.number }}</td>
                <td>{{ team.name }}</td>
                <td class="score">{{ team.highest_score }}</td>
                <td class="score">{{ team.match1 }}</td>
                <td class="score">{{ team.match2 }}</td>
                <td class="score">{{ team.match3 }}</td>
            </tr>
        {% endfor %}
    </table>
    <div class="padding"></div>
    <script>
        window.onscroll = function() {myFunction()};

        // Get the header
        var header = document.getElementById("standings-div");

        // Get the offset position of the navbar
        var sticky = header.offsetTop;

        // Add the sticky class to the header when you reach its scroll position. Remove "sticky" when you leave the scroll position
        function myFunction() {
            if (window.pageYOffset > sticky) {
                header.classList.add("sticky");
            } else {
                header.classList.remove("sticky");
            }
        } 
    </script>
{% endblock %}
